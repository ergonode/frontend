/*
 * Copyright Â© Bold Brand Commerce Sp. z o.o. All rights reserved.
 * See LICENSE for license details.
 */
<template>
    <UploadImage
        :value="value"
        :disabled="disabled"
        @upload="updateValue"
        @remove="updateValue" />
</template>

<script>
import { mapActions } from 'vuex';
import baseProductTemplateElementMixin from '~/mixins/product/baseProductTemplateElementMixin';

export default {
    name: 'ProductTemplateImage',
    components: {
        UploadImage: () => import('~/components/Inputs/Image/UploadImage'),
    },
    mixins: [baseProductTemplateElementMixin],
    methods: {
        ...mapActions('productsDraft', [
            'setProductTemplateElementValue',
        ]),
        updateValue(value = '') {
            this.setProductTemplateElementValue({
                value,
                attributeId: this.id,
                required: this.required,
                name: this.label,
                onSuccess: this.onSuccess,
                onError: this.onError,
            });
        },
    },
};
</script>
